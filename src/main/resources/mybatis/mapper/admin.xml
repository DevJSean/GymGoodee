<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.goodee.gym.mapper.AdminMapper">

	<!-- 강사 추가하기 -->
	<insert id="insertTeacher" parameterType="TeacherDTO">
		INSERT INTO TEACHER
			(TEACHER_NO, TEACHER_NAME, TEACHER_GENDER, TEACHER_SUBJECT)
		VALUES
			(TEACHER_SEQ.NEXTVAL, #{teacherName}, #{teacherGender}, #{teacherSubject})
	</insert>
	
	<!-- 강사 목록 가져오기 -->
	<select id="selectTeachers" resultType="TeacherDTO">
		SELECT 
			TEACHER_NO, TEACHER_NAME, TEACHER_GENDER, TEACHER_SUBJECT 
		  FROM TEACHER
		ORDER BY TEACHER_NO DESC
	</select>
	
	
	<!-- 강좌 개설 시 종목 선택 후 해당 종목 강사 목록 가져오기 -->
	<select id="selectTeachersBySubject" parameterType="String" resultType="TeacherDTO">
		SELECT 
			TEACHER_NO, TEACHER_NAME, TEACHER_GENDER, TEACHER_SUBJECT 
		  FROM TEACHER
		 WHERE TEACHER_SUBJECT = #{subject}
	</select>
	
	<!-- 강좌 개설 시 종목 선택 후 해당 종목 장소 목록 가져오기 -->
	<select id="selectLocationsBySubject" parameterType="String" resultType="LocationDTO">
		SELECT 
			LOCATION_CODE, LOCATION_LIMIT
		  FROM LOCATION
		 WHERE SUBSTR(LOCATION_CODE,1,2) = #{subject}
	</select>
	
	
	<!-- 개설 강좌 추가하기 -->
	<insert id="insertClass" parameterType="ClassDTO">
		INSERT INTO CLASS
			(CLASS_CODE, TEACHER_NO, LOCATION_CODE, CLASS_DATE, CLASS_TIME)
		VALUES
			(#{classCode}, #{teacherNo}, #{locationCode}, #{classDate}, #{classTime})
	</insert>
	

</mapper>